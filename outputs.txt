Processing input1.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> W(T1,x1,101)
T1 writes in local snapshot the x1 = 101 at site 2
> W(T2,x2,202)
T2 writes in local snapshot the x2 = 202 at site 1
T2 writes in local snapshot the x2 = 202 at site 2
T2 writes in local snapshot the x2 = 202 at site 3
T2 writes in local snapshot the x2 = 202 at site 4
T2 writes in local snapshot the x2 = 202 at site 5
T2 writes in local snapshot the x2 = 202 at site 6
T2 writes in local snapshot the x2 = 202 at site 7
T2 writes in local snapshot the x2 = 202 at site 8
T2 writes in local snapshot the x2 = 202 at site 9
T2 writes in local snapshot the x2 = 202 at site 10
> W(T1,x2,102)
T1 writes in local snapshot the x2 = 102 at site 1
T1 writes in local snapshot the x2 = 102 at site 2
T1 writes in local snapshot the x2 = 102 at site 3
T1 writes in local snapshot the x2 = 102 at site 4
T1 writes in local snapshot the x2 = 102 at site 5
T1 writes in local snapshot the x2 = 102 at site 6
T1 writes in local snapshot the x2 = 102 at site 7
T1 writes in local snapshot the x2 = 102 at site 8
T1 writes in local snapshot the x2 = 102 at site 9
T1 writes in local snapshot the x2 = 102 at site 10
> W(T2,x1,201)
T2 writes in local snapshot the x1 = 201 at site 2
> end(T2)
T2 ends
Added WW edge from T1 to T2
Added WW edge from T1 to T2
T2 commits
T2 commits x2 = 202 to Site 1
T2 commits x1 = 201 to Site 2
T2 commits x2 = 202 to Site 2
T2 commits x2 = 202 to Site 3
T2 commits x2 = 202 to Site 4
T2 commits x2 = 202 to Site 5
T2 commits x2 = 202 to Site 6
T2 commits x2 = 202 to Site 7
T2 commits x2 = 202 to Site 8
T2 commits x2 = 202 to Site 9
T2 commits x2 = 202 to Site 10
> end(T1)
T1 ends
T1 aborts because x1 was already committed by another transaction after we started
T1 aborts
> dump()
Dumping database state:
Site 1 -- x2: 202, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 2 -- x1: 201, x2: 202, x4: 40, x6: 60, x8: 80, x10: 100, x11: 110, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 3 -- x2: 202, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 4 -- x2: 202, x3: 30, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x13: 130, x14: 140, x16: 160, x18: 180, x20: 200
Site 5 -- x2: 202, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 6 -- x2: 202, x4: 40, x5: 50, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x15: 150, x16: 160, x18: 180, x20: 200
Site 7 -- x2: 202, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 8 -- x2: 202, x4: 40, x6: 60, x7: 70, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x17: 170, x18: 180, x20: 200
Site 9 -- x2: 202, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 10 -- x2: 202, x4: 40, x6: 60, x8: 80, x9: 90, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x19: 190, x20: 200
--------------------------------------------------------------------------------------
Processing input10.txt
> begin(T2)
T2 begins
> begin(T3)
T3 begins
> W(T3,x2,22)
T3 writes in local snapshot the x2 = 22 at site 1
T3 writes in local snapshot the x2 = 22 at site 2
T3 writes in local snapshot the x2 = 22 at site 3
T3 writes in local snapshot the x2 = 22 at site 4
T3 writes in local snapshot the x2 = 22 at site 5
T3 writes in local snapshot the x2 = 22 at site 6
T3 writes in local snapshot the x2 = 22 at site 7
T3 writes in local snapshot the x2 = 22 at site 8
T3 writes in local snapshot the x2 = 22 at site 9
T3 writes in local snapshot the x2 = 22 at site 10
> W(T2,x4,44)
T2 writes in local snapshot the x4 = 44 at site 1
T2 writes in local snapshot the x4 = 44 at site 2
T2 writes in local snapshot the x4 = 44 at site 3
T2 writes in local snapshot the x4 = 44 at site 4
T2 writes in local snapshot the x4 = 44 at site 5
T2 writes in local snapshot the x4 = 44 at site 6
T2 writes in local snapshot the x4 = 44 at site 7
T2 writes in local snapshot the x4 = 44 at site 8
T2 writes in local snapshot the x4 = 44 at site 9
T2 writes in local snapshot the x4 = 44 at site 10
> R(T3,x4)
T3 reads x4 = 40 at site 1
> end(T2)
T2 ends
Added RW edge from T3 to T2
T2 commits
T2 commits x4 = 44 to Site 1
T2 commits x4 = 44 to Site 2
T2 commits x4 = 44 to Site 3
T2 commits x4 = 44 to Site 4
T2 commits x4 = 44 to Site 5
T2 commits x4 = 44 to Site 6
T2 commits x4 = 44 to Site 7
T2 commits x4 = 44 to Site 8
T2 commits x4 = 44 to Site 9
T2 commits x4 = 44 to Site 10
> end(T3)
T3 ends
T3 commits
T3 commits x2 = 22 to Site 1
T3 commits x2 = 22 to Site 2
T3 commits x2 = 22 to Site 3
T3 commits x2 = 22 to Site 4
T3 commits x2 = 22 to Site 5
T3 commits x2 = 22 to Site 6
T3 commits x2 = 22 to Site 7
T3 commits x2 = 22 to Site 8
T3 commits x2 = 22 to Site 9
T3 commits x2 = 22 to Site 10
> begin(T1)
T1 begins
> R(T1,x2)
T1 reads x2 = 22 at site 1
> end(T1)
T1 ends
T1 commits
--------------------------------------------------------------------------------------
Processing input11.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> R(T1,x2)
T1 reads x2 = 20 at site 1
> R(T2,x2)
T2 reads x2 = 20 at site 1
> W(T2,x2,10)
T2 writes in local snapshot the x2 = 10 at site 1
T2 writes in local snapshot the x2 = 10 at site 2
T2 writes in local snapshot the x2 = 10 at site 3
T2 writes in local snapshot the x2 = 10 at site 4
T2 writes in local snapshot the x2 = 10 at site 5
T2 writes in local snapshot the x2 = 10 at site 6
T2 writes in local snapshot the x2 = 10 at site 7
T2 writes in local snapshot the x2 = 10 at site 8
T2 writes in local snapshot the x2 = 10 at site 9
T2 writes in local snapshot the x2 = 10 at site 10
> end(T1)
T1 ends
T1 commits
> end(T2)
T2 ends
Added RW edge from T1 to T2
T2 commits
T2 commits x2 = 10 to Site 1
T2 commits x2 = 10 to Site 2
T2 commits x2 = 10 to Site 3
T2 commits x2 = 10 to Site 4
T2 commits x2 = 10 to Site 5
T2 commits x2 = 10 to Site 6
T2 commits x2 = 10 to Site 7
T2 commits x2 = 10 to Site 8
T2 commits x2 = 10 to Site 9
T2 commits x2 = 10 to Site 10
--------------------------------------------------------------------------------------
Processing input12.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> R(T1,x2)
T1 reads x2 = 20 at site 1
> R(T2,x2)
T2 reads x2 = 20 at site 1
> end(T1)
T1 ends
T1 commits
> W(T2,x2,10)
T2 writes in local snapshot the x2 = 10 at site 1
T2 writes in local snapshot the x2 = 10 at site 2
T2 writes in local snapshot the x2 = 10 at site 3
T2 writes in local snapshot the x2 = 10 at site 4
T2 writes in local snapshot the x2 = 10 at site 5
T2 writes in local snapshot the x2 = 10 at site 6
T2 writes in local snapshot the x2 = 10 at site 7
T2 writes in local snapshot the x2 = 10 at site 8
T2 writes in local snapshot the x2 = 10 at site 9
T2 writes in local snapshot the x2 = 10 at site 10
> end(T2)
T2 ends
Added RW edge from T1 to T2
T2 commits
T2 commits x2 = 10 to Site 1
T2 commits x2 = 10 to Site 2
T2 commits x2 = 10 to Site 3
T2 commits x2 = 10 to Site 4
T2 commits x2 = 10 to Site 5
T2 commits x2 = 10 to Site 6
T2 commits x2 = 10 to Site 7
T2 commits x2 = 10 to Site 8
T2 commits x2 = 10 to Site 9
T2 commits x2 = 10 to Site 10
--------------------------------------------------------------------------------------
Processing input13.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> begin(T3)
T3 begins
> W(T3,x2,10)
T3 writes in local snapshot the x2 = 10 at site 1
T3 writes in local snapshot the x2 = 10 at site 2
T3 writes in local snapshot the x2 = 10 at site 3
T3 writes in local snapshot the x2 = 10 at site 4
T3 writes in local snapshot the x2 = 10 at site 5
T3 writes in local snapshot the x2 = 10 at site 6
T3 writes in local snapshot the x2 = 10 at site 7
T3 writes in local snapshot the x2 = 10 at site 8
T3 writes in local snapshot the x2 = 10 at site 9
T3 writes in local snapshot the x2 = 10 at site 10
> W(T2,x2,20)
T2 writes in local snapshot the x2 = 20 at site 1
T2 writes in local snapshot the x2 = 20 at site 2
T2 writes in local snapshot the x2 = 20 at site 3
T2 writes in local snapshot the x2 = 20 at site 4
T2 writes in local snapshot the x2 = 20 at site 5
T2 writes in local snapshot the x2 = 20 at site 6
T2 writes in local snapshot the x2 = 20 at site 7
T2 writes in local snapshot the x2 = 20 at site 8
T2 writes in local snapshot the x2 = 20 at site 9
T2 writes in local snapshot the x2 = 20 at site 10
> W(T1,x2,30)
T1 writes in local snapshot the x2 = 30 at site 1
T1 writes in local snapshot the x2 = 30 at site 2
T1 writes in local snapshot the x2 = 30 at site 3
T1 writes in local snapshot the x2 = 30 at site 4
T1 writes in local snapshot the x2 = 30 at site 5
T1 writes in local snapshot the x2 = 30 at site 6
T1 writes in local snapshot the x2 = 30 at site 7
T1 writes in local snapshot the x2 = 30 at site 8
T1 writes in local snapshot the x2 = 30 at site 9
T1 writes in local snapshot the x2 = 30 at site 10
> end(T3)
T3 ends
Added WW edge from T2 to T3
Added WW edge from T1 to T3
T3 commits
T3 commits x2 = 10 to Site 1
T3 commits x2 = 10 to Site 2
T3 commits x2 = 10 to Site 3
T3 commits x2 = 10 to Site 4
T3 commits x2 = 10 to Site 5
T3 commits x2 = 10 to Site 6
T3 commits x2 = 10 to Site 7
T3 commits x2 = 10 to Site 8
T3 commits x2 = 10 to Site 9
T3 commits x2 = 10 to Site 10
> end(T2)
T2 ends
T2 aborts because x2 was already committed by another transaction after we started
T2 aborts
> end(T1)
T1 ends
T1 aborts because x2 was already committed by another transaction after we started
T1 aborts
--------------------------------------------------------------------------------------
Processing input14.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> begin(T3)
T3 begins
> W(T3,x2,10)
T3 writes in local snapshot the x2 = 10 at site 1
T3 writes in local snapshot the x2 = 10 at site 2
T3 writes in local snapshot the x2 = 10 at site 3
T3 writes in local snapshot the x2 = 10 at site 4
T3 writes in local snapshot the x2 = 10 at site 5
T3 writes in local snapshot the x2 = 10 at site 6
T3 writes in local snapshot the x2 = 10 at site 7
T3 writes in local snapshot the x2 = 10 at site 8
T3 writes in local snapshot the x2 = 10 at site 9
T3 writes in local snapshot the x2 = 10 at site 10
> W(T1,x2,20)
T1 writes in local snapshot the x2 = 20 at site 1
T1 writes in local snapshot the x2 = 20 at site 2
T1 writes in local snapshot the x2 = 20 at site 3
T1 writes in local snapshot the x2 = 20 at site 4
T1 writes in local snapshot the x2 = 20 at site 5
T1 writes in local snapshot the x2 = 20 at site 6
T1 writes in local snapshot the x2 = 20 at site 7
T1 writes in local snapshot the x2 = 20 at site 8
T1 writes in local snapshot the x2 = 20 at site 9
T1 writes in local snapshot the x2 = 20 at site 10
> W(T2,x2,30)
T2 writes in local snapshot the x2 = 30 at site 1
T2 writes in local snapshot the x2 = 30 at site 2
T2 writes in local snapshot the x2 = 30 at site 3
T2 writes in local snapshot the x2 = 30 at site 4
T2 writes in local snapshot the x2 = 30 at site 5
T2 writes in local snapshot the x2 = 30 at site 6
T2 writes in local snapshot the x2 = 30 at site 7
T2 writes in local snapshot the x2 = 30 at site 8
T2 writes in local snapshot the x2 = 30 at site 9
T2 writes in local snapshot the x2 = 30 at site 10
> end(T1)
T1 ends
Added WW edge from T3 to T1
Added WW edge from T2 to T1
T1 commits
T1 commits x2 = 20 to Site 1
T1 commits x2 = 20 to Site 2
T1 commits x2 = 20 to Site 3
T1 commits x2 = 20 to Site 4
T1 commits x2 = 20 to Site 5
T1 commits x2 = 20 to Site 6
T1 commits x2 = 20 to Site 7
T1 commits x2 = 20 to Site 8
T1 commits x2 = 20 to Site 9
T1 commits x2 = 20 to Site 10
> end(T3)
T3 ends
T3 aborts because x2 was already committed by another transaction after we started
T3 aborts
> end(T2)
T2 ends
T2 aborts because x2 was already committed by another transaction after we started
T2 aborts
--------------------------------------------------------------------------------------
Processing input15.txt
> begin(T5)
T5 begins
> begin(T4)
T4 begins
> begin(T3)
T3 begins
> begin(T2)
T2 begins
> begin(T1)
T1 begins
> W(T1,x4, 5)
T1 writes in local snapshot the x4 = 5 at site 1
T1 writes in local snapshot the x4 = 5 at site 2
T1 writes in local snapshot the x4 = 5 at site 3
T1 writes in local snapshot the x4 = 5 at site 4
T1 writes in local snapshot the x4 = 5 at site 5
T1 writes in local snapshot the x4 = 5 at site 6
T1 writes in local snapshot the x4 = 5 at site 7
T1 writes in local snapshot the x4 = 5 at site 8
T1 writes in local snapshot the x4 = 5 at site 9
T1 writes in local snapshot the x4 = 5 at site 10
> fail(2)
Site 2 failed
T1 aborts
> W(T2,x4,44)
T2 writes in local snapshot the x4 = 44 at site 1
T2 writes in local snapshot the x4 = 44 at site 3
T2 writes in local snapshot the x4 = 44 at site 4
T2 writes in local snapshot the x4 = 44 at site 5
T2 writes in local snapshot the x4 = 44 at site 6
T2 writes in local snapshot the x4 = 44 at site 7
T2 writes in local snapshot the x4 = 44 at site 8
T2 writes in local snapshot the x4 = 44 at site 9
T2 writes in local snapshot the x4 = 44 at site 10
> recover(2)
Site 2 recovered
Waiting transactions: {}
> W(T3,x4,55)
T3 writes in local snapshot the x4 = 55 at site 1
T3 writes in local snapshot the x4 = 55 at site 2
T3 writes in local snapshot the x4 = 55 at site 3
T3 writes in local snapshot the x4 = 55 at site 4
T3 writes in local snapshot the x4 = 55 at site 5
T3 writes in local snapshot the x4 = 55 at site 6
T3 writes in local snapshot the x4 = 55 at site 7
T3 writes in local snapshot the x4 = 55 at site 8
T3 writes in local snapshot the x4 = 55 at site 9
T3 writes in local snapshot the x4 = 55 at site 10
> W(T4,x4,66)
T4 writes in local snapshot the x4 = 66 at site 1
T4 writes in local snapshot the x4 = 66 at site 2
T4 writes in local snapshot the x4 = 66 at site 3
T4 writes in local snapshot the x4 = 66 at site 4
T4 writes in local snapshot the x4 = 66 at site 5
T4 writes in local snapshot the x4 = 66 at site 6
T4 writes in local snapshot the x4 = 66 at site 7
T4 writes in local snapshot the x4 = 66 at site 8
T4 writes in local snapshot the x4 = 66 at site 9
T4 writes in local snapshot the x4 = 66 at site 10
> W(T5,x4,77)
T5 writes in local snapshot the x4 = 77 at site 1
T5 writes in local snapshot the x4 = 77 at site 2
T5 writes in local snapshot the x4 = 77 at site 3
T5 writes in local snapshot the x4 = 77 at site 4
T5 writes in local snapshot the x4 = 77 at site 5
T5 writes in local snapshot the x4 = 77 at site 6
T5 writes in local snapshot the x4 = 77 at site 7
T5 writes in local snapshot the x4 = 77 at site 8
T5 writes in local snapshot the x4 = 77 at site 9
T5 writes in local snapshot the x4 = 77 at site 10
> end(T1)
T1 Aborted so not available to end
> end(T2)
T2 ends
Added WW edge from T1 to T2
Added WW edge from T3 to T2
Added WW edge from T4 to T2
Added WW edge from T5 to T2
T2 commits
T2 commits x4 = 44 to Site 1
T2 commits x4 = 40 to Site 2
T2 commits x4 = 44 to Site 3
T2 commits x4 = 44 to Site 4
T2 commits x4 = 44 to Site 5
T2 commits x4 = 44 to Site 6
T2 commits x4 = 44 to Site 7
T2 commits x4 = 44 to Site 8
T2 commits x4 = 44 to Site 9
T2 commits x4 = 44 to Site 10
> end(T3)
T3 ends
T3 aborts because x4 was already committed by another transaction after we started
T3 aborts
> end(T4)
T4 ends
T4 aborts because x4 was already committed by another transaction after we started
T4 aborts
> end(T5)
T5 ends
T5 aborts because x4 was already committed by another transaction after we started
T5 aborts
--------------------------------------------------------------------------------------
Processing input16.txt
> begin(T3)
T3 begins
> begin(T2)
T2 begins
> W(T3,x2,22)
T3 writes in local snapshot the x2 = 22 at site 1
T3 writes in local snapshot the x2 = 22 at site 2
T3 writes in local snapshot the x2 = 22 at site 3
T3 writes in local snapshot the x2 = 22 at site 4
T3 writes in local snapshot the x2 = 22 at site 5
T3 writes in local snapshot the x2 = 22 at site 6
T3 writes in local snapshot the x2 = 22 at site 7
T3 writes in local snapshot the x2 = 22 at site 8
T3 writes in local snapshot the x2 = 22 at site 9
T3 writes in local snapshot the x2 = 22 at site 10
> W(T2,x4,44)
T2 writes in local snapshot the x4 = 44 at site 1
T2 writes in local snapshot the x4 = 44 at site 2
T2 writes in local snapshot the x4 = 44 at site 3
T2 writes in local snapshot the x4 = 44 at site 4
T2 writes in local snapshot the x4 = 44 at site 5
T2 writes in local snapshot the x4 = 44 at site 6
T2 writes in local snapshot the x4 = 44 at site 7
T2 writes in local snapshot the x4 = 44 at site 8
T2 writes in local snapshot the x4 = 44 at site 9
T2 writes in local snapshot the x4 = 44 at site 10
> R(T3,x4)
T3 reads x4 = 40 at site 1
> end(T2)
T2 ends
Added RW edge from T3 to T2
T2 commits
T2 commits x4 = 44 to Site 1
T2 commits x4 = 44 to Site 2
T2 commits x4 = 44 to Site 3
T2 commits x4 = 44 to Site 4
T2 commits x4 = 44 to Site 5
T2 commits x4 = 44 to Site 6
T2 commits x4 = 44 to Site 7
T2 commits x4 = 44 to Site 8
T2 commits x4 = 44 to Site 9
T2 commits x4 = 44 to Site 10
> end(T3)
T3 ends
T3 commits
T3 commits x2 = 22 to Site 1
T3 commits x2 = 22 to Site 2
T3 commits x2 = 22 to Site 3
T3 commits x2 = 22 to Site 4
T3 commits x2 = 22 to Site 5
T3 commits x2 = 22 to Site 6
T3 commits x2 = 22 to Site 7
T3 commits x2 = 22 to Site 8
T3 commits x2 = 22 to Site 9
T3 commits x2 = 22 to Site 10
> begin(T1)
T1 begins
> R(T1,x2)
T1 reads x2 = 22 at site 1
> end(T1)
T1 ends
T1 commits
--------------------------------------------------------------------------------------
Processing input17.txt
> begin(T3)
T3 begins
> begin(T2)
T2 begins
> W(T3,x2,22)
T3 writes in local snapshot the x2 = 22 at site 1
T3 writes in local snapshot the x2 = 22 at site 2
T3 writes in local snapshot the x2 = 22 at site 3
T3 writes in local snapshot the x2 = 22 at site 4
T3 writes in local snapshot the x2 = 22 at site 5
T3 writes in local snapshot the x2 = 22 at site 6
T3 writes in local snapshot the x2 = 22 at site 7
T3 writes in local snapshot the x2 = 22 at site 8
T3 writes in local snapshot the x2 = 22 at site 9
T3 writes in local snapshot the x2 = 22 at site 10
> W(T2,x3,44)
T2 writes in local snapshot the x3 = 44 at site 4
> R(T3,x3)
T3 reads x3 = 30 at site 4
> end(T2)
T2 ends
Added RW edge from T3 to T2
T2 commits
T2 commits x3 = 44 to Site 4
> fail(4)
Site 4 failed
T3 aborts
> end(T3)
T3 Aborted so not available to end
> begin(T1)
T1 begins
> R(T1,x2)
T1 reads x2 = 20 at site 1
> end(T1)
T1 ends
T1 commits
--------------------------------------------------------------------------------------
Processing input18.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> begin(T3)
T3 begins
> begin(T4)
T4 begins
> begin(T5)
T5 begins
> R(T4,x4)
T4 reads x4 = 40 at site 1
> R(T5,x5)
T5 reads x5 = 50 at site 6
> R(T1,x1)
T1 reads x1 = 10 at site 2
> W(T1,x2,10)
T1 writes in local snapshot the x2 = 10 at site 1
T1 writes in local snapshot the x2 = 10 at site 2
T1 writes in local snapshot the x2 = 10 at site 3
T1 writes in local snapshot the x2 = 10 at site 4
T1 writes in local snapshot the x2 = 10 at site 5
T1 writes in local snapshot the x2 = 10 at site 6
T1 writes in local snapshot the x2 = 10 at site 7
T1 writes in local snapshot the x2 = 10 at site 8
T1 writes in local snapshot the x2 = 10 at site 9
T1 writes in local snapshot the x2 = 10 at site 10
> R(T2,x2)
T2 reads x2 = 20 at site 1
> W(T2,x3,20)
T2 writes in local snapshot the x3 = 20 at site 4
> R(T3,x3)
T3 reads x3 = 30 at site 4
> W(T3,x4,30)
T3 writes in local snapshot the x4 = 30 at site 1
T3 writes in local snapshot the x4 = 30 at site 2
T3 writes in local snapshot the x4 = 30 at site 3
T3 writes in local snapshot the x4 = 30 at site 4
T3 writes in local snapshot the x4 = 30 at site 5
T3 writes in local snapshot the x4 = 30 at site 6
T3 writes in local snapshot the x4 = 30 at site 7
T3 writes in local snapshot the x4 = 30 at site 8
T3 writes in local snapshot the x4 = 30 at site 9
T3 writes in local snapshot the x4 = 30 at site 10
> W(T4,x5,40)
T4 writes in local snapshot the x5 = 40 at site 6
> W(T5,x1,50)
T5 writes in local snapshot the x1 = 50 at site 2
> end(T4)
T4 ends
Added RW edge from T5 to T4
T4 commits
T4 commits x5 = 40 to Site 6
> end(T3)
T3 ends
Added RW edge from T4 to T3
T3 commits
T3 commits x4 = 30 to Site 1
T3 commits x4 = 30 to Site 2
T3 commits x4 = 30 to Site 3
T3 commits x4 = 30 to Site 4
T3 commits x4 = 30 to Site 5
T3 commits x4 = 30 to Site 6
T3 commits x4 = 30 to Site 7
T3 commits x4 = 30 to Site 8
T3 commits x4 = 30 to Site 9
T3 commits x4 = 30 to Site 10
> end(T2)
T2 ends
Added RW edge from T3 to T2
T2 commits
T2 commits x3 = 20 to Site 4
> end(T1)
T1 ends
Added RW edge from T2 to T1
T1 commits
T1 commits x2 = 10 to Site 1
T1 commits x2 = 10 to Site 2
T1 commits x2 = 10 to Site 3
T1 commits x2 = 10 to Site 4
T1 commits x2 = 10 to Site 5
T1 commits x2 = 10 to Site 6
T1 commits x2 = 10 to Site 7
T1 commits x2 = 10 to Site 8
T1 commits x2 = 10 to Site 9
T1 commits x2 = 10 to Site 10
> end(T5) // T5 aborts here
T5 ends
Added RW edge from T1 to T5
Cycle detected: T5 -> T4 -> T3 -> T2 -> T1 -> T5 with edge types ['RW', 'RW', 'RW', 'RW', 'RW']
Consecutive 'RW' edges found: RW -> RW
T5 aborts due to cycle in serialization graph
Removed transaction T5 and its outgoing edges from the serialization graph.
T5 aborts
--------------------------------------------------------------------------------------
Processing input19.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> begin(T3)
T3 begins
> begin(T4)
T4 begins
> begin(T5)
T5 begins
> W(T3,x3,300)
T3 writes in local snapshot the x3 = 300 at site 4
> fail(4)
Site 4 failed
T3 aborts
> recover(4)
Site 4 recovered
Waiting transactions: {}
> R(T4,x4)
T4 reads x4 = 40 at site 1
> R(T5,x5)
T5 reads x5 = 50 at site 6
> R(T1,x6)
T1 reads x6 = 60 at site 1
> R(T2,x2)
T2 reads x2 = 20 at site 1
> W(T1,x2,10)
T1 writes in local snapshot the x2 = 10 at site 1
T1 writes in local snapshot the x2 = 10 at site 2
T1 writes in local snapshot the x2 = 10 at site 3
T1 writes in local snapshot the x2 = 10 at site 4
T1 writes in local snapshot the x2 = 10 at site 5
T1 writes in local snapshot the x2 = 10 at site 6
T1 writes in local snapshot the x2 = 10 at site 7
T1 writes in local snapshot the x2 = 10 at site 8
T1 writes in local snapshot the x2 = 10 at site 9
T1 writes in local snapshot the x2 = 10 at site 10
> W(T2,x3,20)
T2 writes in local snapshot the x3 = 20 at site 4
> W(T3,x4,30)
T3 Aborted so not available to write
> W(T5,x1,50)
T5 writes in local snapshot the x1 = 50 at site 2
> end(T5)
T5 ends
T5 commits
T5 commits x1 = 50 to Site 2
> W(T4,x5,40)
T4 writes in local snapshot the x5 = 40 at site 6
> end(T4)
T4 ends
Added RW edge from T5 to T4
T4 commits
T4 commits x5 = 40 to Site 6
> end(T3)
T3 Aborted so not available to end
> end(T2)
T2 ends
Added WW edge from T3 to T2
T2 commits
T2 commits x3 = 20 to Site 4
> end(T1)
T1 ends
Added RW edge from T2 to T1
T1 commits
T1 commits x2 = 10 to Site 1
T1 commits x2 = 10 to Site 2
T1 commits x2 = 10 to Site 3
T1 commits x2 = 10 to Site 4
T1 commits x2 = 10 to Site 5
T1 commits x2 = 10 to Site 6
T1 commits x2 = 10 to Site 7
T1 commits x2 = 10 to Site 8
T1 commits x2 = 10 to Site 9
T1 commits x2 = 10 to Site 10
--------------------------------------------------------------------------------------
Processing input2.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> W(T1,x1,101)
T1 writes in local snapshot the x1 = 101 at site 2
> R(T2,x2)
T2 reads x2 = 20 at site 1
> W(T1,x2,102)
T1 writes in local snapshot the x2 = 102 at site 1
T1 writes in local snapshot the x2 = 102 at site 2
T1 writes in local snapshot the x2 = 102 at site 3
T1 writes in local snapshot the x2 = 102 at site 4
T1 writes in local snapshot the x2 = 102 at site 5
T1 writes in local snapshot the x2 = 102 at site 6
T1 writes in local snapshot the x2 = 102 at site 7
T1 writes in local snapshot the x2 = 102 at site 8
T1 writes in local snapshot the x2 = 102 at site 9
T1 writes in local snapshot the x2 = 102 at site 10
> R(T2,x1)
T2 reads x1 = 10 at site 2
> end(T1)
T1 ends
Added RW edge from T2 to T1
Added RW edge from T2 to T1
T1 commits
T1 commits x2 = 102 to Site 1
T1 commits x1 = 101 to Site 2
T1 commits x2 = 102 to Site 2
T1 commits x2 = 102 to Site 3
T1 commits x2 = 102 to Site 4
T1 commits x2 = 102 to Site 5
T1 commits x2 = 102 to Site 6
T1 commits x2 = 102 to Site 7
T1 commits x2 = 102 to Site 8
T1 commits x2 = 102 to Site 9
T1 commits x2 = 102 to Site 10
> end(T2)
T2 ends
T2 commits
> dump()
Dumping database state:
Site 1 -- x2: 102, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 2 -- x1: 101, x2: 102, x4: 40, x6: 60, x8: 80, x10: 100, x11: 110, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 3 -- x2: 102, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 4 -- x2: 102, x3: 30, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x13: 130, x14: 140, x16: 160, x18: 180, x20: 200
Site 5 -- x2: 102, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 6 -- x2: 102, x4: 40, x5: 50, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x15: 150, x16: 160, x18: 180, x20: 200
Site 7 -- x2: 102, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 8 -- x2: 102, x4: 40, x6: 60, x7: 70, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x17: 170, x18: 180, x20: 200
Site 9 -- x2: 102, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 10 -- x2: 102, x4: 40, x6: 60, x8: 80, x9: 90, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x19: 190, x20: 200
--------------------------------------------------------------------------------------
Processing input20.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> R(T2, x2)
T2 reads x2 = 20 at site 1
> W(T1, x2, 202)
T1 writes in local snapshot the x2 = 202 at site 1
T1 writes in local snapshot the x2 = 202 at site 2
T1 writes in local snapshot the x2 = 202 at site 3
T1 writes in local snapshot the x2 = 202 at site 4
T1 writes in local snapshot the x2 = 202 at site 5
T1 writes in local snapshot the x2 = 202 at site 6
T1 writes in local snapshot the x2 = 202 at site 7
T1 writes in local snapshot the x2 = 202 at site 8
T1 writes in local snapshot the x2 = 202 at site 9
T1 writes in local snapshot the x2 = 202 at site 10
> W(T2, x2, 302)
T2 writes in local snapshot the x2 = 302 at site 1
T2 writes in local snapshot the x2 = 302 at site 2
T2 writes in local snapshot the x2 = 302 at site 3
T2 writes in local snapshot the x2 = 302 at site 4
T2 writes in local snapshot the x2 = 302 at site 5
T2 writes in local snapshot the x2 = 302 at site 6
T2 writes in local snapshot the x2 = 302 at site 7
T2 writes in local snapshot the x2 = 302 at site 8
T2 writes in local snapshot the x2 = 302 at site 9
T2 writes in local snapshot the x2 = 302 at site 10
> end(T1)
T1 ends
Added WW edge from T2 to T1
Added RW edge from T2 to T1
T1 commits
T1 commits x2 = 202 to Site 1
T1 commits x2 = 202 to Site 2
T1 commits x2 = 202 to Site 3
T1 commits x2 = 202 to Site 4
T1 commits x2 = 202 to Site 5
T1 commits x2 = 202 to Site 6
T1 commits x2 = 202 to Site 7
T1 commits x2 = 202 to Site 8
T1 commits x2 = 202 to Site 9
T1 commits x2 = 202 to Site 10
> end(T2)
T2 ends
T2 aborts because x2 was already committed by another transaction after we started
T2 aborts
> dump()
Dumping database state:
Site 1 -- x2: 202, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 2 -- x1: 10, x2: 202, x4: 40, x6: 60, x8: 80, x10: 100, x11: 110, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 3 -- x2: 202, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 4 -- x2: 202, x3: 30, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x13: 130, x14: 140, x16: 160, x18: 180, x20: 200
Site 5 -- x2: 202, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 6 -- x2: 202, x4: 40, x5: 50, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x15: 150, x16: 160, x18: 180, x20: 200
Site 7 -- x2: 202, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 8 -- x2: 202, x4: 40, x6: 60, x7: 70, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x17: 170, x18: 180, x20: 200
Site 9 -- x2: 202, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 10 -- x2: 202, x4: 40, x6: 60, x8: 80, x9: 90, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x19: 190, x20: 200
--------------------------------------------------------------------------------------
Processing input21.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> R(T1, x2)
T1 reads x2 = 20 at site 1
> R(T2, x4)
T2 reads x4 = 40 at site 1
> W(T1, x4, 30)
T1 writes in local snapshot the x4 = 30 at site 1
T1 writes in local snapshot the x4 = 30 at site 2
T1 writes in local snapshot the x4 = 30 at site 3
T1 writes in local snapshot the x4 = 30 at site 4
T1 writes in local snapshot the x4 = 30 at site 5
T1 writes in local snapshot the x4 = 30 at site 6
T1 writes in local snapshot the x4 = 30 at site 7
T1 writes in local snapshot the x4 = 30 at site 8
T1 writes in local snapshot the x4 = 30 at site 9
T1 writes in local snapshot the x4 = 30 at site 10
> W(T2, x2, 90)
T2 writes in local snapshot the x2 = 90 at site 1
T2 writes in local snapshot the x2 = 90 at site 2
T2 writes in local snapshot the x2 = 90 at site 3
T2 writes in local snapshot the x2 = 90 at site 4
T2 writes in local snapshot the x2 = 90 at site 5
T2 writes in local snapshot the x2 = 90 at site 6
T2 writes in local snapshot the x2 = 90 at site 7
T2 writes in local snapshot the x2 = 90 at site 8
T2 writes in local snapshot the x2 = 90 at site 9
T2 writes in local snapshot the x2 = 90 at site 10
> end(T1) // succeeds
T1 ends
Added RW edge from T2 to T1
T1 commits
T1 commits x4 = 30 to Site 1
T1 commits x4 = 30 to Site 2
T1 commits x4 = 30 to Site 3
T1 commits x4 = 30 to Site 4
T1 commits x4 = 30 to Site 5
T1 commits x4 = 30 to Site 6
T1 commits x4 = 30 to Site 7
T1 commits x4 = 30 to Site 8
T1 commits x4 = 30 to Site 9
T1 commits x4 = 30 to Site 10
> end(T2) // aborts, since commit causes a cycle
T2 ends
Added RW edge from T1 to T2
Cycle detected: T2 -> T1 -> T2 with edge types ['RW', 'RW']
Consecutive 'RW' edges found: RW -> RW
T2 aborts due to cycle in serialization graph
Removed transaction T2 and its outgoing edges from the serialization graph.
T2 aborts
--------------------------------------------------------------------------------------
Processing input22.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> W(T1, x2, 80)
T1 writes in local snapshot the x2 = 80 at site 1
T1 writes in local snapshot the x2 = 80 at site 2
T1 writes in local snapshot the x2 = 80 at site 3
T1 writes in local snapshot the x2 = 80 at site 4
T1 writes in local snapshot the x2 = 80 at site 5
T1 writes in local snapshot the x2 = 80 at site 6
T1 writes in local snapshot the x2 = 80 at site 7
T1 writes in local snapshot the x2 = 80 at site 8
T1 writes in local snapshot the x2 = 80 at site 9
T1 writes in local snapshot the x2 = 80 at site 10
> W(T1, x4, 50)
T1 writes in local snapshot the x4 = 50 at site 1
T1 writes in local snapshot the x4 = 50 at site 2
T1 writes in local snapshot the x4 = 50 at site 3
T1 writes in local snapshot the x4 = 50 at site 4
T1 writes in local snapshot the x4 = 50 at site 5
T1 writes in local snapshot the x4 = 50 at site 6
T1 writes in local snapshot the x4 = 50 at site 7
T1 writes in local snapshot the x4 = 50 at site 8
T1 writes in local snapshot the x4 = 50 at site 9
T1 writes in local snapshot the x4 = 50 at site 10
> R(T2, x4)
T2 reads x4 = 40 at site 1
> end(T1) // T1 commits [ T2 -- rw --> T1 ]
T1 ends
Added RW edge from T2 to T1
T1 commits
T1 commits x2 = 80 to Site 1
T1 commits x4 = 50 to Site 1
T1 commits x2 = 80 to Site 2
T1 commits x4 = 50 to Site 2
T1 commits x2 = 80 to Site 3
T1 commits x4 = 50 to Site 3
T1 commits x2 = 80 to Site 4
T1 commits x4 = 50 to Site 4
T1 commits x2 = 80 to Site 5
T1 commits x4 = 50 to Site 5
T1 commits x2 = 80 to Site 6
T1 commits x4 = 50 to Site 6
T1 commits x2 = 80 to Site 7
T1 commits x4 = 50 to Site 7
T1 commits x2 = 80 to Site 8
T1 commits x4 = 50 to Site 8
T1 commits x2 = 80 to Site 9
T1 commits x4 = 50 to Site 9
T1 commits x2 = 80 to Site 10
T1 commits x4 = 50 to Site 10
> W(T2, x6, 90)
T2 writes in local snapshot the x6 = 90 at site 1
T2 writes in local snapshot the x6 = 90 at site 2
T2 writes in local snapshot the x6 = 90 at site 3
T2 writes in local snapshot the x6 = 90 at site 4
T2 writes in local snapshot the x6 = 90 at site 5
T2 writes in local snapshot the x6 = 90 at site 6
T2 writes in local snapshot the x6 = 90 at site 7
T2 writes in local snapshot the x6 = 90 at site 8
T2 writes in local snapshot the x6 = 90 at site 9
T2 writes in local snapshot the x6 = 90 at site 10
> begin(T3)
T3 begins
> R(T3, x6)
T3 reads x6 = 60 at site 1
> W(T3, x2, 70)
T3 writes in local snapshot the x2 = 70 at site 1
T3 writes in local snapshot the x2 = 70 at site 2
T3 writes in local snapshot the x2 = 70 at site 3
T3 writes in local snapshot the x2 = 70 at site 4
T3 writes in local snapshot the x2 = 70 at site 5
T3 writes in local snapshot the x2 = 70 at site 6
T3 writes in local snapshot the x2 = 70 at site 7
T3 writes in local snapshot the x2 = 70 at site 8
T3 writes in local snapshot the x2 = 70 at site 9
T3 writes in local snapshot the x2 = 70 at site 10
> end(T2) // T2 commits [T3 -- rw --> T2 -- rw --> T1]
T2 ends
Added RW edge from T3 to T2
T2 commits
T2 commits x6 = 90 to Site 1
T2 commits x6 = 90 to Site 2
T2 commits x6 = 90 to Site 3
T2 commits x6 = 90 to Site 4
T2 commits x6 = 90 to Site 5
T2 commits x6 = 90 to Site 6
T2 commits x6 = 90 to Site 7
T2 commits x6 = 90 to Site 8
T2 commits x6 = 90 to Site 9
T2 commits x6 = 90 to Site 10
> end(T3) // T3 aborts [attempts to add edge T1 --- ww --> T3, creating a cycle hence aborts]
T3 ends
Added WW edge from T1 to T3
Cycle detected: T2 -> T1 -> T3 -> T2 with edge types ['RW', 'WW', 'RW']
Consecutive 'RW' edges found: RW -> RW
T3 aborts due to cycle in serialization graph
Removed transaction T3 and its outgoing edges from the serialization graph.
T3 aborts
--------------------------------------------------------------------------------------
Processing input23.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> fail(3)
> fail(4)
> R(T1,x1)
T1 reads x1 = 10 at site 2
> W(T2,x8,88)
T2 writes in local snapshot the x8 = 88 at site 1
T2 writes in local snapshot the x8 = 88 at site 2
T2 writes in local snapshot the x8 = 88 at site 5
T2 writes in local snapshot the x8 = 88 at site 6
T2 writes in local snapshot the x8 = 88 at site 7
T2 writes in local snapshot the x8 = 88 at site 8
T2 writes in local snapshot the x8 = 88 at site 9
T2 writes in local snapshot the x8 = 88 at site 10
> end(T1)
T1 ends
T1 commits
> recover(4)
Site 4 recovered
Waiting transactions: {}
> recover(3)
Site 3 recovered
Waiting transactions: {}
> R(T2,x3)
T2 reads x3 = 30 at site 4
> end(T2)
T2 ends
T2 commits
T2 commits x8 = 88 to Site 1
T2 commits x8 = 88 to Site 2
T2 commits x8 = 80 to Site 3
T2 commits x8 = 80 to Site 4
T2 commits x8 = 88 to Site 5
T2 commits x8 = 88 to Site 6
T2 commits x8 = 88 to Site 7
T2 commits x8 = 88 to Site 8
T2 commits x8 = 88 to Site 9
T2 commits x8 = 88 to Site 10
> fail(1)
> fail(2)
> fail(5)
> fail(6)
> fail(7)
> fail(8)
> fail(9)
> fail(10)
> begin(T3)
T3 begins
> R(T3,x8)  // T3 should abort because no site had a committed write to x8 before T3 began and was continuously up until T3 began
False
T3 aborts because x8 is not available in any of the sites
T3 aborts
T3 aborts
--------------------------------------------------------------------------------------
Processing input24.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> fail(3)
> fail(4)
> R(T1,x1)
T1 reads x1 = 10 at site 2
> W(T2,x8,88)
T2 writes in local snapshot the x8 = 88 at site 1
T2 writes in local snapshot the x8 = 88 at site 2
T2 writes in local snapshot the x8 = 88 at site 5
T2 writes in local snapshot the x8 = 88 at site 6
T2 writes in local snapshot the x8 = 88 at site 7
T2 writes in local snapshot the x8 = 88 at site 8
T2 writes in local snapshot the x8 = 88 at site 9
T2 writes in local snapshot the x8 = 88 at site 10
> end(T1)
T1 ends
T1 commits
> recover(4)
Site 4 recovered
Waiting transactions: {}
> recover(3)
Site 3 recovered
Waiting transactions: {}
> R(T2,x3)
T2 reads x3 = 30 at site 4
> end(T2)
T2 ends
T2 commits
T2 commits x8 = 88 to Site 1
T2 commits x8 = 88 to Site 2
T2 commits x8 = 80 to Site 3
T2 commits x8 = 80 to Site 4
T2 commits x8 = 88 to Site 5
T2 commits x8 = 88 to Site 6
T2 commits x8 = 88 to Site 7
T2 commits x8 = 88 to Site 8
T2 commits x8 = 88 to Site 9
T2 commits x8 = 88 to Site 10
> fail(1)
> fail(2)
> fail(5)
> fail(6)
> fail(7)
> fail(8)
> fail(9)
> fail(10)
> begin(T3)
T3 begins
> begin(T4)
T4 begins
> W(T4,x8,99)
T4 writes in local snapshot the x8 = 99 at site 3
T4 writes in local snapshot the x8 = 99 at site 4
> end(T4)
T4 ends
Added WW edge from T2 to T4
T4 commits
T4 commits x8 = 99 to Site 3
T4 commits x8 = 99 to Site 4
> R(T3,x8)                              // T3 should still abort
False
T3 aborts because x8 is not available in any of the sites
T3 aborts
T3 aborts
--------------------------------------------------------------------------------------
Processing input25.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> fail(3)
> fail(4)
> R(T1,x1)
T1 reads x1 = 10 at site 2
> W(T2,x8,88)
T2 writes in local snapshot the x8 = 88 at site 1
T2 writes in local snapshot the x8 = 88 at site 2
T2 writes in local snapshot the x8 = 88 at site 5
T2 writes in local snapshot the x8 = 88 at site 6
T2 writes in local snapshot the x8 = 88 at site 7
T2 writes in local snapshot the x8 = 88 at site 8
T2 writes in local snapshot the x8 = 88 at site 9
T2 writes in local snapshot the x8 = 88 at site 10
> end(T1)
T1 ends
T1 commits
> recover(4)
Site 4 recovered
Waiting transactions: {}
> recover(3)
Site 3 recovered
Waiting transactions: {}
> R(T2,x3)
T2 reads x3 = 30 at site 4
> end(T2)
T2 ends
T2 commits
T2 commits x8 = 88 to Site 1
T2 commits x8 = 88 to Site 2
T2 commits x8 = 80 to Site 3
T2 commits x8 = 80 to Site 4
T2 commits x8 = 88 to Site 5
T2 commits x8 = 88 to Site 6
T2 commits x8 = 88 to Site 7
T2 commits x8 = 88 to Site 8
T2 commits x8 = 88 to Site 9
T2 commits x8 = 88 to Site 10
> fail(1)
> fail(5)
> fail(6)
> fail(7)
> fail(8)
> fail(9)
> fail(10)
> begin(T3)
T3 begins
> fail(2)
> begin(T4)
T4 begins
> W(T4,x8,99)
T4 writes in local snapshot the x8 = 99 at site 3
T4 writes in local snapshot the x8 = 99 at site 4
> end(T4)
T4 ends
Added WW edge from T2 to T4
T4 commits
T4 commits x8 = 99 to Site 3
T4 commits x8 = 99 to Site 4
> R(T3,x8)                   // T3 should now wait for site 2
T3 will read x8 at site 2 after site recovers
> recover(2)                 // T3 will be unblocked here, R(T3,x8) returns 88
Site 2 recovered
Waiting transactions: {2: [('T3', 'x8', 2)]}
T3 reads x8 = 88 at site 2
--------------------------------------------------------------------------------------
Processing input3.5.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> R(T1,x3)
T1 reads x3 = 30 at site 4
> W(T2,x8,88)
T2 writes in local snapshot the x8 = 88 at site 1
T2 writes in local snapshot the x8 = 88 at site 2
T2 writes in local snapshot the x8 = 88 at site 3
T2 writes in local snapshot the x8 = 88 at site 4
T2 writes in local snapshot the x8 = 88 at site 5
T2 writes in local snapshot the x8 = 88 at site 6
T2 writes in local snapshot the x8 = 88 at site 7
T2 writes in local snapshot the x8 = 88 at site 8
T2 writes in local snapshot the x8 = 88 at site 9
T2 writes in local snapshot the x8 = 88 at site 10
> fail(2)
Site 2 failed
T2 aborts
> R(T2,x3)
T2 Aborted so not available to read
> W(T1, x4,91)
T1 writes in local snapshot the x4 = 91 at site 1
T1 writes in local snapshot the x4 = 91 at site 3
T1 writes in local snapshot the x4 = 91 at site 4
T1 writes in local snapshot the x4 = 91 at site 5
T1 writes in local snapshot the x4 = 91 at site 6
T1 writes in local snapshot the x4 = 91 at site 7
T1 writes in local snapshot the x4 = 91 at site 8
T1 writes in local snapshot the x4 = 91 at site 9
T1 writes in local snapshot the x4 = 91 at site 10
> recover(2)
Site 2 recovered
Waiting transactions: {}
> end(T2)
T2 Aborted so not available to end
> end(T1)
T1 ends
T1 commits
T1 commits x4 = 91 to Site 1
T1 commits x4 = 40 to Site 2
T1 commits x4 = 91 to Site 3
T1 commits x4 = 91 to Site 4
T1 commits x4 = 91 to Site 5
T1 commits x4 = 91 to Site 6
T1 commits x4 = 91 to Site 7
T1 commits x4 = 91 to Site 8
T1 commits x4 = 91 to Site 9
T1 commits x4 = 91 to Site 10
--------------------------------------------------------------------------------------
Processing input3.7.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> R(T1,x3)
T1 reads x3 = 30 at site 4
> W(T2,x8,88)
T2 writes in local snapshot the x8 = 88 at site 1
T2 writes in local snapshot the x8 = 88 at site 2
T2 writes in local snapshot the x8 = 88 at site 3
T2 writes in local snapshot the x8 = 88 at site 4
T2 writes in local snapshot the x8 = 88 at site 5
T2 writes in local snapshot the x8 = 88 at site 6
T2 writes in local snapshot the x8 = 88 at site 7
T2 writes in local snapshot the x8 = 88 at site 8
T2 writes in local snapshot the x8 = 88 at site 9
T2 writes in local snapshot the x8 = 88 at site 10
> fail(2)
Site 2 failed
T2 aborts
> R(T2,x3)
T2 Aborted so not available to read
> recover(2)
Site 2 recovered
Waiting transactions: {}
> W(T1, x4,91)
T1 writes in local snapshot the x4 = 91 at site 1
T1 writes in local snapshot the x4 = 91 at site 2
T1 writes in local snapshot the x4 = 91 at site 3
T1 writes in local snapshot the x4 = 91 at site 4
T1 writes in local snapshot the x4 = 91 at site 5
T1 writes in local snapshot the x4 = 91 at site 6
T1 writes in local snapshot the x4 = 91 at site 7
T1 writes in local snapshot the x4 = 91 at site 8
T1 writes in local snapshot the x4 = 91 at site 9
T1 writes in local snapshot the x4 = 91 at site 10
> end(T2)
T2 Aborted so not available to end
> end(T1)
T1 ends
T1 commits
T1 commits x4 = 91 to Site 1
T1 commits x4 = 91 to Site 2
T1 commits x4 = 91 to Site 3
T1 commits x4 = 91 to Site 4
T1 commits x4 = 91 to Site 5
T1 commits x4 = 91 to Site 6
T1 commits x4 = 91 to Site 7
T1 commits x4 = 91 to Site 8
T1 commits x4 = 91 to Site 9
T1 commits x4 = 91 to Site 10
--------------------------------------------------------------------------------------
Processing input3.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> R(T1,x3)
T1 reads x3 = 30 at site 4
> fail(2)
> W(T2,x8,88)
T2 writes in local snapshot the x8 = 88 at site 1
T2 writes in local snapshot the x8 = 88 at site 3
T2 writes in local snapshot the x8 = 88 at site 4
T2 writes in local snapshot the x8 = 88 at site 5
T2 writes in local snapshot the x8 = 88 at site 6
T2 writes in local snapshot the x8 = 88 at site 7
T2 writes in local snapshot the x8 = 88 at site 8
T2 writes in local snapshot the x8 = 88 at site 9
T2 writes in local snapshot the x8 = 88 at site 10
> R(T2,x3)
T2 reads x3 = 30 at site 4
> W(T1, x5,91)
T1 writes in local snapshot the x5 = 91 at site 6
> end(T2)
T2 ends
T2 commits
T2 commits x8 = 88 to Site 1
T2 commits x8 = 88 to Site 3
T2 commits x8 = 88 to Site 4
T2 commits x8 = 88 to Site 5
T2 commits x8 = 88 to Site 6
T2 commits x8 = 88 to Site 7
T2 commits x8 = 88 to Site 8
T2 commits x8 = 88 to Site 9
T2 commits x8 = 88 to Site 10
> recover(2)
Site 2 recovered
Waiting transactions: {}
> end(T1)
T1 ends
T1 commits
T1 commits x5 = 91 to Site 6
--------------------------------------------------------------------------------------
Processing input4.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> W(T1,x1,512)
T1 writes in local snapshot the x1 = 512 at site 2
> fail(2)
Site 2 failed
T1 aborts
> W(T2,x8,88)
T2 writes in local snapshot the x8 = 88 at site 1
T2 writes in local snapshot the x8 = 88 at site 3
T2 writes in local snapshot the x8 = 88 at site 4
T2 writes in local snapshot the x8 = 88 at site 5
T2 writes in local snapshot the x8 = 88 at site 6
T2 writes in local snapshot the x8 = 88 at site 7
T2 writes in local snapshot the x8 = 88 at site 8
T2 writes in local snapshot the x8 = 88 at site 9
T2 writes in local snapshot the x8 = 88 at site 10
> R(T2,x3)
T2 reads x3 = 30 at site 4
> R(T1, x5)
T1 Aborted so not available to read
> end(T2)
T2 ends
T2 commits
T2 commits x8 = 88 to Site 1
T2 commits x8 = 88 to Site 3
T2 commits x8 = 88 to Site 4
T2 commits x8 = 88 to Site 5
T2 commits x8 = 88 to Site 6
T2 commits x8 = 88 to Site 7
T2 commits x8 = 88 to Site 8
T2 commits x8 = 88 to Site 9
T2 commits x8 = 88 to Site 10
> recover(2)
Site 2 recovered
Waiting transactions: {}
> end(T1)
T1 Aborted so not available to end
--------------------------------------------------------------------------------------
Processing input5.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> W(T1,x6,66)
T1 writes in local snapshot the x6 = 66 at site 1
T1 writes in local snapshot the x6 = 66 at site 2
T1 writes in local snapshot the x6 = 66 at site 3
T1 writes in local snapshot the x6 = 66 at site 4
T1 writes in local snapshot the x6 = 66 at site 5
T1 writes in local snapshot the x6 = 66 at site 6
T1 writes in local snapshot the x6 = 66 at site 7
T1 writes in local snapshot the x6 = 66 at site 8
T1 writes in local snapshot the x6 = 66 at site 9
T1 writes in local snapshot the x6 = 66 at site 10
> fail(2)
Site 2 failed
T1 aborts
> W(T2,x8,88)
T2 writes in local snapshot the x8 = 88 at site 1
T2 writes in local snapshot the x8 = 88 at site 3
T2 writes in local snapshot the x8 = 88 at site 4
T2 writes in local snapshot the x8 = 88 at site 5
T2 writes in local snapshot the x8 = 88 at site 6
T2 writes in local snapshot the x8 = 88 at site 7
T2 writes in local snapshot the x8 = 88 at site 8
T2 writes in local snapshot the x8 = 88 at site 9
T2 writes in local snapshot the x8 = 88 at site 10
> R(T2,x3)
T2 reads x3 = 30 at site 4
> R(T1, x5)
T1 Aborted so not available to read
> end(T2)
T2 ends
T2 commits
T2 commits x8 = 88 to Site 1
T2 commits x8 = 88 to Site 3
T2 commits x8 = 88 to Site 4
T2 commits x8 = 88 to Site 5
T2 commits x8 = 88 to Site 6
T2 commits x8 = 88 to Site 7
T2 commits x8 = 88 to Site 8
T2 commits x8 = 88 to Site 9
T2 commits x8 = 88 to Site 10
> recover(2)
Site 2 recovered
Waiting transactions: {}
> end(T1)
T1 Aborted so not available to end
--------------------------------------------------------------------------------------
Processing input6.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> fail(3)
> fail(4)
> R(T1,x1)
T1 reads x1 = 10 at site 2
> W(T2,x8,88)
T2 writes in local snapshot the x8 = 88 at site 1
T2 writes in local snapshot the x8 = 88 at site 2
T2 writes in local snapshot the x8 = 88 at site 5
T2 writes in local snapshot the x8 = 88 at site 6
T2 writes in local snapshot the x8 = 88 at site 7
T2 writes in local snapshot the x8 = 88 at site 8
T2 writes in local snapshot the x8 = 88 at site 9
T2 writes in local snapshot the x8 = 88 at site 10
> end(T1)
T1 ends
T1 commits
> recover(4)
Site 4 recovered
Waiting transactions: {}
> recover(3)
Site 3 recovered
Waiting transactions: {}
> R(T2,x3)
T2 reads x3 = 30 at site 4
> end(T2)
T2 ends
T2 commits
T2 commits x8 = 88 to Site 1
T2 commits x8 = 88 to Site 2
T2 commits x8 = 80 to Site 3
T2 commits x8 = 80 to Site 4
T2 commits x8 = 88 to Site 5
T2 commits x8 = 88 to Site 6
T2 commits x8 = 88 to Site 7
T2 commits x8 = 88 to Site 8
T2 commits x8 = 88 to Site 9
T2 commits x8 = 88 to Site 10
> dump()
Dumping database state:
Site 1 -- x2: 20, x4: 40, x6: 60, x8: 88, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 2 -- x1: 10, x2: 20, x4: 40, x6: 60, x8: 88, x10: 100, x11: 110, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 3 -- x2: 20, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 4 -- x2: 20, x3: 30, x4: 40, x6: 60, x8: 80, x10: 100, x12: 120, x13: 130, x14: 140, x16: 160, x18: 180, x20: 200
Site 5 -- x2: 20, x4: 40, x6: 60, x8: 88, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 6 -- x2: 20, x4: 40, x5: 50, x6: 60, x8: 88, x10: 100, x12: 120, x14: 140, x15: 150, x16: 160, x18: 180, x20: 200
Site 7 -- x2: 20, x4: 40, x6: 60, x8: 88, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 8 -- x2: 20, x4: 40, x6: 60, x7: 70, x8: 88, x10: 100, x12: 120, x14: 140, x16: 160, x17: 170, x18: 180, x20: 200
Site 9 -- x2: 20, x4: 40, x6: 60, x8: 88, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x20: 200
Site 10 -- x2: 20, x4: 40, x6: 60, x8: 88, x9: 90, x10: 100, x12: 120, x14: 140, x16: 160, x18: 180, x19: 190, x20: 200
--------------------------------------------------------------------------------------
Processing input7.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> R(T2,x1)
T2 reads x1 = 10 at site 2
> R(T2,x2)
T2 reads x2 = 20 at site 1
> W(T1,x3,33)
T1 writes in local snapshot the x3 = 33 at site 4
> end(T1)
T1 ends
T1 commits
T1 commits x3 = 33 to Site 4
> R(T2,x3)
T2 reads x3 = 30 at site 4
> end(T2)
T2 ends
T2 commits
--------------------------------------------------------------------------------------
Processing input8.txt
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> R(T2,x1)
T2 reads x1 = 10 at site 2
> R(T2,x2)
T2 reads x2 = 20 at site 1
> W(T1,x3,33)
T1 writes in local snapshot the x3 = 33 at site 4
> end(T1)
T1 ends
T1 commits
T1 commits x3 = 33 to Site 4
> begin(T3)
T3 begins
> R(T3,x3)
T3 reads x3 = 33 at site 4
> R(T2,x3)
T2 reads x3 = 30 at site 4
> end(T2)
T2 ends
T2 commits
> end(T3)
T3 ends
T3 commits
--------------------------------------------------------------------------------------
Processing input9.txt
> begin(T3)
T3 begins
> begin(T1)
T1 begins
> begin(T2)
T2 begins
> W(T3,x2,22)
T3 writes in local snapshot the x2 = 22 at site 1
T3 writes in local snapshot the x2 = 22 at site 2
T3 writes in local snapshot the x2 = 22 at site 3
T3 writes in local snapshot the x2 = 22 at site 4
T3 writes in local snapshot the x2 = 22 at site 5
T3 writes in local snapshot the x2 = 22 at site 6
T3 writes in local snapshot the x2 = 22 at site 7
T3 writes in local snapshot the x2 = 22 at site 8
T3 writes in local snapshot the x2 = 22 at site 9
T3 writes in local snapshot the x2 = 22 at site 10
> W(T2,x4,44)
T2 writes in local snapshot the x4 = 44 at site 1
T2 writes in local snapshot the x4 = 44 at site 2
T2 writes in local snapshot the x4 = 44 at site 3
T2 writes in local snapshot the x4 = 44 at site 4
T2 writes in local snapshot the x4 = 44 at site 5
T2 writes in local snapshot the x4 = 44 at site 6
T2 writes in local snapshot the x4 = 44 at site 7
T2 writes in local snapshot the x4 = 44 at site 8
T2 writes in local snapshot the x4 = 44 at site 9
T2 writes in local snapshot the x4 = 44 at site 10
> R(T3,x4)
T3 reads x4 = 40 at site 1
> end(T2)
T2 ends
Added RW edge from T3 to T2
T2 commits
T2 commits x4 = 44 to Site 1
T2 commits x4 = 44 to Site 2
T2 commits x4 = 44 to Site 3
T2 commits x4 = 44 to Site 4
T2 commits x4 = 44 to Site 5
T2 commits x4 = 44 to Site 6
T2 commits x4 = 44 to Site 7
T2 commits x4 = 44 to Site 8
T2 commits x4 = 44 to Site 9
T2 commits x4 = 44 to Site 10
> end(T3)
T3 ends
T3 commits
T3 commits x2 = 22 to Site 1
T3 commits x2 = 22 to Site 2
T3 commits x2 = 22 to Site 3
T3 commits x2 = 22 to Site 4
T3 commits x2 = 22 to Site 5
T3 commits x2 = 22 to Site 6
T3 commits x2 = 22 to Site 7
T3 commits x2 = 22 to Site 8
T3 commits x2 = 22 to Site 9
T3 commits x2 = 22 to Site 10
> R(T1,x2)
T1 reads x2 = 20 at site 1
> end(T1)
T1 ends
T1 commits
--------------------------------------------------------------------------------------